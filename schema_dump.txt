Database Schema Inspection
==========================

Table: addons
-------------
addID                    int(11)             NO    PRI  NULL           
packageID                varchar(100)        NO    MUL  NULL           
Description              varchar(255)        NO         NULL           
Price                    decimal(10,2)       NO         NULL           

Table: api_rate_limit
---------------------
id                       int(11)             NO    PRI  NULL           
identifier               varchar(255)        NO    MUL  NULL           
endpoint                 varchar(255)        NO    MUL  NULL           
request_count            int(11)             YES        1              
window_start             datetime            NO    MUL  NULL           
last_request             datetime            NO         NULL           
is_blocked               tinyint(1)          YES        0              
blocked_until            datetime            YES        NULL           

Table: booking_logs
-------------------
logID                    int(11)             NO    PRI  NULL           
bookingID                int(11)             NO    MUL  NULL           
userID                   int(11)             YES   MUL  NULL           
action                   varchar(50)         NO    MUL  NULL           
details                  text                YES        NULL           
created_at               timestamp           NO         current_timestamp()

Table: booking_logs_archive
---------------------------
logID                    int(11)             NO    PRI  NULL           
bookingID                int(11)             NO    MUL  NULL           
Action                   varchar(100)        YES        NULL           
Description              text                YES        NULL           
UserID                   int(11)             YES        NULL           
CreatedAt                datetime            YES   MUL  NULL           
archivedAt               datetime            YES        current_timestamp()

Table: bookings
---------------
bookingID                int(11)             NO    PRI  NULL           
userID                   int(11)             NO    MUL  NULL           
packageID                varchar(100)        NO    MUL  NULL           
event_type               varchar(100)        NO         NULL           
eventType_other          varchar(255)        YES        NULL           
event_date               date                NO    MUL  NULL           
event_time_start         time                NO         NULL           
event_time_end           time                NO         NULL           
event_location           varchar(255)        NO         NULL           
event_theme              varchar(100)        YES        NULL           
client_message           text                YES        NULL           
total_amount             decimal(10,2)       NO         NULL           
refund_amount            decimal(10,2)       YES        0.00           
refund_processed_date    datetime            YES        NULL           
downpayment_amount       decimal(10,2)       NO         NULL           
balance_amount           decimal(10,2)       YES        0.00           
downpayment_paid         tinyint(1)          YES        0              
downpayment_paid_date    datetime            YES        NULL           
final_payment_paid       tinyint(1)          YES        0              
final_payment_paid_date  datetime            YES        NULL           
proof_payment            varchar(255)        NO         NULL           
gdrive_link              varchar(255)        YES        NULL           
booking_status           enum('pending','confirmed','post_production','completed','cancelled')NO    MUL  pending        
admin_notes              text                YES        NULL           
is_fully_paid            tinyint(1)          NO         0              
created_at               timestamp           NO    MUL  current_timestamp()
updated_at               timestamp           NO         current_timestamp()
consultation_date        date                YES        NULL           
consultation_time        time                YES        NULL           
gallery_token            varchar(64)         YES   UNI  NULL           
gallery_pin              varchar(6)          YES        NULL           
gallery_expiry           datetime            YES        NULL           
client_signature         longtext            YES        NULL           
contract_signed_at       datetime            YES        NULL           
balance_payment_proof    varchar(255)        YES        NULL           
payment_status           varchar(255)        NO         NULL           

Table: bookings_archive
-----------------------
bookingID                int(11)             NO    PRI  NULL           
userID                   int(11)             NO    MUL  NULL           
packageID                int(11)             YES        NULL           
EventType                varchar(100)        YES        NULL           
EventDate                date                YES   MUL  NULL           
EventTime                time                YES        NULL           
EventLocation            text                YES        NULL           
NumGuests                int(11)             YES        NULL           
SpecialRequests          text                YES        NULL           
TotalAmount              decimal(10,2)       YES        NULL           
BookingStatus            varchar(50)         YES   MUL  NULL           
BookingReference         varchar(50)         YES   UNI  NULL           
PaymentStatus            varchar(50)         YES        NULL           
CreatedAt                datetime            YES        NULL           
UpdatedAt                datetime            YES        NULL           
AdminNotes               text                YES        NULL           
archivedAt               datetime            YES   MUL  current_timestamp()

Table: client_notes
-------------------
noteID                   int(11)             NO    PRI  NULL           
userID                   int(11)             NO    MUL  NULL           
adminID                  int(11)             NO    MUL  NULL           
note                     text                NO         NULL           
created_at               timestamp           NO         current_timestamp()

Table: client_tags
------------------
tagID                    int(11)             NO    PRI  NULL           
tag_name                 varchar(50)         NO    UNI  NULL           
tag_color                varchar(7)          YES        #d4af37        
created_at               timestamp           NO         current_timestamp()

Table: communication_log
------------------------
logID                    int(11)             NO    PRI  NULL           
userID                   int(11)             NO    MUL  NULL           
adminID                  int(11)             NO    MUL  NULL           
type                     enum('email','call','meeting','message')NO    MUL  NULL           
subject                  varchar(255)        YES        NULL           
notes                    text                YES        NULL           
communication_date       datetime            NO         NULL           
created_at               timestamp           NO         current_timestamp()

Table: communication_logs
-------------------------
logID                    int(11)             NO    PRI  NULL           
userID                   int(11)             NO    MUL  NULL           
adminID                  int(11)             NO    MUL  NULL           
type                     enum('email','call','meeting','message')NO         NULL           
subject                  varchar(255)        YES        NULL           
notes                    text                YES        NULL           
communication_date       datetime            NO         NULL           
created_at               timestamp           NO         current_timestamp()

Table: contactmessages
----------------------
id                       int(11)             NO    PRI  NULL           
name                     varchar(200)        NO         NULL           
email                    varchar(255)        NO         NULL           
subject                  varchar(255)        YES        NULL           
message                  text                NO         NULL           
ip_address               varchar(45)         YES        NULL           
is_read                  tinyint(1)          YES   MUL  0              
created_at               timestamp           NO    MUL  current_timestamp()

Table: inclusion
----------------
inclusionID              int(255)            NO    PRI  NULL           
packageID                varchar(255)        NO    MUL  NULL           
Description              varchar(255)        NO         NULL           

Table: inquiries
----------------
id                       int(11)             NO    PRI  NULL           
name                     varchar(100)        NO         NULL           
email                    varchar(100)        NO         NULL           
subject                  varchar(255)        NO         NULL           
message                  text                NO         NULL           
status                   enum('new','read','replied')NO         new            
created_at               timestamp           NO         current_timestamp()

Table: invoices
---------------
invoiceID                int(11)             NO    PRI  NULL           
bookingID                int(11)             NO    MUL  NULL           
issue_date               date                NO         NULL           
due_date                 date                NO         NULL           
status                   enum('pending','paid','overdue','cancelled')NO         pending        
created_at               timestamp           NO         current_timestamp()

Table: notifications
--------------------
notificationID           int(11)             NO    PRI  NULL           
userID                   int(11)             NO    MUL  NULL           
type                     varchar(50)         NO         NULL           
title                    varchar(255)        NO         NULL           
message                  text                NO         NULL           
link                     varchar(255)        YES        NULL           
is_read                  tinyint(1)          YES   MUL  0              
created_at               timestamp           NO         current_timestamp()

Table: packages
---------------
packageID                varchar(100)        NO    PRI  NULL           
packageName              varchar(100)        NO         NULL           
Price                    decimal(10,2)       NO         NULL           
description              text                YES        NULL           
coverage_hours           int(11)             YES        0              
extra_hour_rate          decimal(10,2)       YES        0.00           

Table: password_history
-----------------------
id                       int(11)             NO    PRI  NULL           
userID                   int(11)             NO    MUL  NULL           
password_hash            varchar(255)        NO         NULL           
created_at               timestamp           NO    MUL  current_timestamp()

Table: ratelimiting
-------------------
id                       int(100)            NO    PRI  NULL           
userID                   int(100)            NO    MUL  NULL           
logInAttempt             int(100)            NO         NULL           
loginLocked              timestamp           YES        NULL           
loginEmailVerificationAttemptint(100)            NO         NULL           
loginEmailVerificationLockedtimestamp           YES        NULL           
registrationEmailVerificationAttemptint(100)            NO         NULL           
registrationEmailVerificationLockedtimestamp           YES        NULL           
fogotEmailVerificationAttemptint(100)            NO         NULL           
fogotEmailVerificationLockedtimestamp           YES        NULL           

Table: refunds
--------------
refundID                 int(11)             NO    PRI  NULL           
bookingID                int(11)             NO    MUL  NULL           
amount                   decimal(10,2)       NO         NULL           
reason                   varchar(255)        YES        NULL           
status                   enum('pending','approved','processed','rejected')YES        pending        
requested_at             timestamp           NO         current_timestamp()
processed_at             timestamp           YES        NULL           
processed_by             int(11)             YES   MUL  NULL           
notes                    text                YES        NULL           
proof_image              varchar(255)        YES        NULL           

Table: reviews
--------------
reviewID                 int(11)             NO    PRI  NULL           
bookingID                int(11)             NO    UNI  NULL           
rating                   int(1)              NO         NULL           
comment                  text                YES        NULL           
status                   enum('pending','approved','rejected')NO         pending        
created_at               timestamp           NO         current_timestamp()

Table: settings
---------------
setting_key              varchar(50)         NO    PRI  NULL           
setting_value            text                YES        NULL           
updated_at               timestamp           NO         current_timestamp()

Table: tags
-----------
tagID                    int(11)             NO    PRI  NULL           
tag_name                 varchar(50)         NO    UNI  NULL           
tag_color                varchar(20)         NO         #D4AF37        

Table: user_activity_log
------------------------
activity_id              int(11)             NO    PRI  NULL           
user_id                  int(11)             NO    MUL  NULL           
activity_type            enum('contact_form','booking_created','booking_cancelled','payment_made','inquiry_sent','booking_updated')NO    MUL  NULL           
activity_description     text                YES        NULL           
related_booking_id       int(11)             YES        NULL           
metadata                 longtext            YES        NULL           
created_at               datetime            YES        current_timestamp()

Table: user_photos
------------------
photoID                  int(11)             NO    PRI  NULL           
userID                   int(11)             NO    MUL  NULL           
fileName                 varchar(255)        NO         NULL           
originalName             varchar(255)        NO         NULL           
uploadedBy               int(11)             NO    MUL  NULL           
uploadDate               datetime            YES   MUL  current_timestamp()
caption                  text                YES        NULL           
bookingID                int(11)             YES        NULL           
photo_type               enum('edited','raw')YES        edited         

Table: user_tags
----------------
userID                   int(11)             NO    PRI  NULL           
tagID                    int(11)             NO    PRI  NULL           
assigned_by              int(11)             NO    MUL  NULL           
assigned_at              timestamp           NO         current_timestamp()

Table: users
------------
userID                   int(11)             NO    PRI  NULL           
Email                    varchar(255)        NO    UNI  NULL           
Password                 varchar(255)        NO         NULL           
Role                     enum('Admin','User')YES   MUL  User           
FirstName                varchar(100)        YES        NULL           
LastName                 varchar(100)        YES        NULL           
FullName                 varchar(200)        YES        NULL           
contactNo                varchar(20)         YES        NULL           
isVerified               tinyint(1)          YES   MUL  0              
profileCompleted         tinyint(1)          YES        0              
verificationCode         varchar(255)        YES   MUL  NULL           
codeCreated_at           timestamp           YES        NULL           
codeExpires_at           timestamp           YES        NULL           
created_at               timestamp           NO    MUL  current_timestamp()
updated_at               timestamp           NO         current_timestamp()
passwordResetCode        varchar(255)        YES   MUL  NULL           
resetCodeCreated_at      timestamp           YES        NULL           
resetCodeExpires_at      timestamp           YES        NULL           
Status                   enum('Active','Archived')NO         Active         

Inspection Complete.
